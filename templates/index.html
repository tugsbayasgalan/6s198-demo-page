<html>

<head>
  <link rel='stylesheet' href="{{ url_for('static', filename='css/index.css') }}">/>
</head>

<body onload="loadTextArea(); window.scroll(0, 20);">

  <script>

    function handleDropdown() {
      var e = document.getElementByClass("dropdown");
      var chosenOption = e.options[e.selectedIndex]
      console.log("This is the selected genre: ", e.options[e.selectedIndex].innerText)
    }

    function handleSubmitButton() {
      var textArea = document.getElementById("generatedText");
      textArea.value = null
    }


    function loadTextArea() {
      if ({{submitted}}){
        var textArea = document.getElementById("generatedText");
        textArea.disabled = false;
      } else {
        var textArea = document.getElementById("generatedText");
        textArea.disabled = true
      }

    }

  </script>
  <div id="maincontent">
    <div id="title">
      <div id="truetitle">
       <h4>Song Lyrics Generator</h4>
      </div>
      <div id="subtitle">
       <h4>Deep and Tugsuu</h4>
      </div>
    </div>

    <br>
    <form action="http://127.0.0.1:5000/" method="post">

      <div id="firstprompt">
        <div id="prompt">
          Choose your genre!
        </div>

       <!-- <div class="dropdown" >
          <button class="dropbtn">Choose your genre!</button>
          <div class="dropdown-content">
             <a href="#">Country</a>
            <a href="#">Rap</a>
            <a href="#">Other</a>
            <select id="dropDown" name="selectedOption" onChange="handleDropdown()" required>
              <option value="country">Country</option>
              <option value="rap">Rap</option>
              <option value="other">Other</option>
            </select>
          </div>
        </div>  -->

        <select id="dropDown" name="selectedOption" onChange="handleDropdown()" required>
          <option value="country">Country</option>
          <option value="rap">Rap</option>
          <option value="other">Other</option>
        </select>
      </div>

      <br>

      <div id="seed">
        <div id="seedgetter">
          <div id="seedprompt">
            How do you want your song to start?
          </div>

          <div id="seedinput">
            <input type="text" name="seedtext" value="" placeholder="Your text here..">
          </div>
        </div>


        <div id="subbuttons">
          <input id="submitbutton" type="submit" value="Submit" onclick="handleSubmitButton()">
          <input id="randomsubmitbutton" type="submit" value="Just random submit" onclick="handleRandomSubmitButton()">
        </div>
      </div>
    </form>


    <div id="gentext">
      <textarea id="generatedText" rows="20" cols="70">{{generated_lyrics}}</textarea>
    </div>

    <div id="exportsong">
      <div id="exportprompt">Want to export your lyrics? Click here: </div>
      <button id="exportbtn">Export Song!</button>
    </div>

    <style>

    #dropDown {
      font-size: 16px;
    }
    /* Style The Dropdown Button */
    .dropbtn {
        background-color: #4CAF50;
        color: white;
        padding: 16px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        border-radius: 8px;
        margin-top: 5px;
    }

    /* The container <div> - needed to position the dropdown content */
    .dropdown {
        position: relative;
        display: inline-block;
    }

    /* Dropdown Content (Hidden by Default) */
    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
    }

    /* Links inside the dropdown */
    .dropdown-content a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
    }

    /* Change color of dropdown links on hover */
    .dropdown-content a:hover {background-color: #f1f1f1}

    /* Show the dropdown menu on hover */
    .dropdown:hover .dropdown-content {
        display: block;
    }

    /* Change the background color of the dropdown button when the dropdown content is shown */
    .dropdown:hover .dropbtn {
        background-color: #3e8e41;
    }
    </style>


  </div>
</body>
</html>
